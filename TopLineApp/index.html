<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link href="kendo/styles/kendo.common.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.default.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
        <link href="kendo/styles/kendo.indexedlistview.css" rel="stylesheet" />
		<link href="styles/main.css" rel="stylesheet" />
		<script src="cordova.js" type="text/javascript"></script>
	</head>
	<body>
        <!-- Home-Layout -->
		<div data-role="layout" data-id="home-layout" data-init="app.homeLayout.init" data-title="Top Line">
			<header data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                </div>
                <ul class="select-group">
                    <li data-target="#dentroFila-view">Fila</li>
                    <li data-target="#foraFila-view">Fora</li>
                    <li data-target="#foraTurno-view">Turno</li>
                </ul>
			</header>
            <div data-role="footer">
                <div data-role="tabstrip">
                    <a href="#dentroFila-view" data-icon="action">Fila</a>
                    <a href="#consulta-view" data-icon="search">Consulta</a>
                    <a href="#config-view" data-icon="settings">Configuração</a>
                    <a href="#about-view" data-icon="about">Sobre</a>
                </div>
            </div>
		</div>
        
         <!-- Fila da Vez -->
		<div id="dentroFila-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-show="showVendedoresFila" data-model="viewModel">
			<ul data-bind="source: dsVendFila" data-role="listview" data-auto-bind="false" data-template="tdentroFila" data-style="inset"></ul>
            <ul id="actAcaoVendedorFila" data-role="actionsheet" data-cancel="Cancelar" data-style="inset">
				<li class="km-actionsheet-title">Selecione operação:</li>
				<li>
					<a data-action="showAtendimentoView">Resultado Atendimento</a>
				</li>
				<li>
					<a data-action="showTiposMovtoView">Sair fila da Vez</a>
				</li>
			</ul>
		</div>

        <!-- Fora da Fila da Vez -->
        <div id="foraFila-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-show="showVendedoresForaFila" data-model="viewModel">
        	<ul data-bind="source: dsVendForaFila" data-role="listview" data-auto-bind="false" data-template="tforaFila" data-style="inset"></ul>
        </div>
        
        <!-- Fora do Turno -->
        <div id="foraTurno-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-show="showVendedoresForaTurno" data-model="viewModel">
        	<ul data-bind="source: dsVendForaTurno" data-role="listview" data-auto-bind="false" data-template="tforaTurno" data-style="inset"></ul>
        </div>
        
        <!-- Resultado Atendimento -->
        <div id="resultadoAtendimento-view" data-role="view" data-title="Top Line" data-layout="home-layout"  data-model="viewModel">
        	<div data-role="header">
        		<div data-role="navbar">
        			<a data-role="button" data-align="left" data-bind="events: {click: cancelarAtendimento}">Cancelar</a>
        			<span data-role="view-title"></span>
        			<a data-role="button" data-align="right" data-bind="events: { click: salvarAtendimento }">Gravar</a>
        		</div>
        	</div>
        	<ul id="form" data-role="listview" data-style="inset" data-type="group">
        		<div class="mobile-fila-titulo">Atendimento</div>
        		<li>
        			<ul>
        				<li>
        					<h2 data-bind="text:  vendedorSelecionado.ColNome">
        						<span>Teste</span>
        					</h2>
        					<img data-bind="srcPath: vendedorSelecionado.ColFoto"/>
        				</li>
        			</ul>
        		</li>
        
        		<li>
        			<ul>
        				<li>
        					<label>
        						Vendeu
        						<input id="chkVendeu" type="checkbox" data-role="switch" data-on-label="Sim" data-off-label="Não" data-change="switchChange" checked>
        					</label>
        				</li>
        			</ul>
        		</li>
        
        		<li>
        			Dados da Venda
        			<ul>
        
        				<li>
        					<label>
        						Valor da Venda
        						<input id="RepValor" name="RepValor" type="number" required="required" data-bind="value: atendimento.RepValor" />
        					</label>
        				</li>
        				<li>
        					<label>
        						Qtde Total de Peças
        						<input id="RepQtde" name="RepQtde" type="number" required="required" data-bind="value: atendimento.RepQtde"/>
        					</label>
        				</li>
        
        			</ul>
        
        		</li>
          	</ul>
        </div>
        
        <script>
        
            function switchChange(e) {
                alert("pqp");
                console.log("switch value was changed to " + (e.checked ? "checked" : "unchecked"));
            }
            
            
        </script>
                
        <!-- Toos-Layout -->
		<div data-role="layout" data-id="tools-layout" data-title="Top Line">
			<header data-role="header">
                <div data-role="navbar">
                    <span data-role="view-title"></span>
                </div>
 		   </header>
            <div data-role="footer">
                <div data-role="tabstrip">
                    <a href="#dentroFila-view" data-icon="action">Fila</a>
                    <a href="#consulta-view" data-icon="search">Consulta</a>
                    <a href="#config-view" data-icon="settings">Configuração</a>
                    <a href="#about-view" data-icon="about">Sobre</a>
                </div>
            </div>
		</div>
         
        <!-- Consulta -->
    	<div id="consulta-view" data-role="view" data-layout="tools-layout" data-title="Top Line">
    		<ul data-role="listview" data-style="inset" data-type="group">
    			<li>Configuração
    				<ul>
    					<li>
    						<a>Loja</a>
    					</li>
    					<li>
    						<a>Vendedor</a>
    					</li>
    				</ul>
    
    			</li>
    		</ul>
    	</div>
    
        <!-- Configuração -->
    	<div id="config-view" data-role="view" data-layout="tools-layout" data-title="Top Line">
    		<ul data-role="listview" data-style="inset" data-type="group">
    			<li>Configuração
    				<ul>
    					<li>
    						<a href="views/ConsultaLojaView.html">Cadastro de Loja</a>
    					</li>
    					<li>
    						<a href="views/ConsultaColaboradorList.html">Cadastro de Colaboradores</a>
    					</li>
    					<li>
    						<a href="#">Escala de Trabalho</a>
    					</li>
    					<li>
    						<a href="#">Horário de Funcionamento</a>
    					</li>
    				</ul>
    
    			</li>
    		</ul>
    	</div>

            <!-- Templates -->
		<script type="text/x-kendo-template" id="tdentroFila">
			<a data-rel="actionsheet" href="\\#actAcaoVendedorFila" data-actionsheet-context="#= FilaLojId #">
                <img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
                <h1 class="fila-nome">${ColApelido}</h1>
                <h2 class="fila-turno">1 Turno</h2>
     	   </a>
		</script>
        <script type="text/x-kendo-template" id="tforaFila">
        	<a data-rel="modalview" href="\\#modalview-login">
                <img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
                <h1 class="fila-nome">${ColApelido}</h1>
                <h2 class="fila-turno">1 Turno</h2>
        	</a>
        </script>
        <script type="text/x-kendo-template" id="tforaTurno">
        	<a class="details-link" data-role="listview-link">
                <img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
                <h1 class="fila-nome">${ColApelido}</h1>
                <h2 class="fila-turno">1 Turno</h2>
        	</a>
        </script>
        
		<script>
 		
			function showAtendimentoView(e) {
				var vendedor = viewModel.dsVendFila.get(e.context);
				viewModel.set("vendedorSelecionado", vendedor); 				
				app.navigate("views/AtendimentoView.html");
			};
			
			function showTiposMovtoView(e) {       
				app.navigate("views/TiposMovView.html");
			};
		</script>
        <script data-main="scripts/main.js" src="scripts/require.js"></script>
	</body>
</html>

