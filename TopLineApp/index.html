<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta charset="utf-8" />
		<script src="cordova.js"></script>
		<script src="kendo/js/jquery.min.js"></script>
		<script src="kendo/js/kendo.all.min.js"></script>

		<link href="kendo/styles/kendo.common.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.default.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />

		<link href="styles/main.css" rel="stylesheet" />
		<link href="styles/ModalViewLogin.css" rel="stylesheet" />

	</head>

	<!DOCTYPE html>
	<html>

		<body>

			<!--This is the Flat ListView-->
			<div data-role="view" id="vendFila" data-init="getListaFilaDaVez" data-title="ListView"
				 data-layout="databinding">
				<ul id="lstVendedoresFila">
				</ul>
			</div>

			<!--This is the Grouped ListView-->
			<div data-role="view" id="VendForaFila" data-init="getListaForaFilaDaVez" data-transition=""
				 data-title="ListView" data-layout="databinding">
				<ul id="lstVendedoresForaFila">
				</ul>
			</div>

			<!--This is the Grouped ListView-->
			<div data-role="view" id="VendaForaExp" data-init="getListaForaExpediente" data-transition=""
				 data-title="ListView" data-layout="databinding">
				<ul id="lstVendedoresForaExpediente">
				</ul>
			</div>

			<!--This is the application layout-->
			<div data-role="layout" data-id="databinding">
				<header data-role="header">
					<div data-role="navbar">
						<span data-role="view-title"></span>
						<a data-align="right" data-role="button" class="nav-button"
						   href="#index">Index</a>
					</div>
				</header>
				<div data-role="footer">
					<div data-role="tabstrip">
						<a href="#vendFila" data-icon="contacts">Fila</a>
						<a href="#vendForaFila" data-icon="contacts">Fora Fila</a>
						<a href="#vendForaExp" data-icon="contacts">Fora Expediente</a>

					</div>
				</div>
			</div>

			<script type="text/x-kendo-template" id="listVendedoresFilaTemplate">
				<a data-rel="actionsheet" href="\\#actions" data-actionsheet-context="#= IdVendedor #">
					<img src="${Foto}" />
					<h5>#:VendedorNome#</h5>
				</a>
			</script>

			<script type="text/x-kendo-template" id="listVendedoresForaFilaTemplate">
				<a data-rel="actionsheet" href="\\#actions" data-actionsheet-context="#= IdVendedor #">
					<img src="${Foto}" />
					<h5>#:VendedorNome#</h5>
				</a>
			</script>

			<script type="text/x-kendo-template" id="listVendedoresForaExpedienteTemplate">
				<a data-rel="actionsheet" href="\\#actions" data-actionsheet-context="#= IdVendedor #">
					<img src="${Foto}" />
					<h5>#:VendedorNome#</h5>
				</a>
			</script>

			<script>

				var app = new kendo.mobile.Application($(document.body));
			             
				//Url
				var baseUrl = "http://localhost:50000/api";
				
				//schema
				var schemaVendedores = { 
					model: {
						id: "IdVendedor",
						fields: {
							IdVendedor: { editable: false, nullable: false },
							VendedorNome: { editable: false, nullable: false },
							VendedorApelido: { editable: false, nullable: false },
							Fila: { editable: false, nullable: false },
							PosicaoFila: { editable: false, nullable: false },            
							Foto: { editable: false, nullable: false }
						} 
					}
				};
				
				//dataSource
				var dsVendFila = new kendo.data.DataSource({                    
					transport: {						
						read:  {
							url: baseUrl + "/Vendedor/1",							
							type:"GET"      
							,contentType: "application/json"
							,dataType: "json"
						}                 
					},
					batch: true,
					schema: schemaVendedores,
					sort: { field: "PosicaoFila", dir: "asc" }	
				});
				
				//dataSource
				var dsVendForaFila = new kendo.data.DataSource({                    
					transport: {						
						read:  {
							url: baseUrl + "/Vendedor/2",							
							type:"GET"      
							,contentType: "application/json"
							,dataType: "json"
						}                 
					},
					batch: true,
					schema: schemaVendedores,
					sort: { field: "VendedorNome", dir: "asc" }	
				});
				
				//dataSource
				var dsVendForaExp = new kendo.data.DataSource({                    
					transport: {						
						read:  {
							url: baseUrl + "/Vendedor/3",							
							type:"GET"      
							,contentType: "application/json"
							,dataType: "json"
						}                 
					},
					batch: true,
					schema: schemaVendedores,
					sort: { field: "VendedorNome", dir: "asc" }	
				})	
                
				function getListaFilaDaVez() {
					$("#lstVendedoresFila").kendoMobileListView({
						dataSource: dsVendFila,
						template: $("#listVendedoresFilaTemplate").html(),
						fixedHeaders: true
					});
				}
                
				function getListaForaFilaDaVez() {
					$("#lstVendedoresForaFila").kendoMobileListView({
						dataSource: dsVendForaFila,
						template: $("#listVendedoresForaFilaTemplate").html(),
						fixedHeaders: true
					});
				}
				
				function getListaForaExpediente() {
					$("#lstVendedoresForaExpediente").kendoMobileListView({
						dataSource: dsVendForaExp,
						template: $("#listVendedoresForaExpedienteTemplate").html(),
						fixedHeaders: true
					});
				}
				
				
                
			</script>
			<script>
				window
				.kendoMobileApplication = new kendo.mobile.Application(document.body);
			</script>
		</body>
	</html>

</html>

