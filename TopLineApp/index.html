<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
		<link href="styles/main.css" rel="stylesheet" />
		<script src="cordova.js" type="text/javascript"></script>
		<script src="kendo/js/jquery.min.js" type="text/javascript"></script>
		<script src="kendo/js/kendo.all.min.js" type="text/javascript"></script>
		<script src="scripts/topLine.js" type="text/javascript"></script>
		<script src="scripts/topLineFechamentos.js" type="text/javascript"></script>
		<script src="scripts/topLineMtvNaoVenda.js" type="text/javascript"></script>
		<script src="scripts/topLineCamera.js" type="text/javascript"></script>
		<script src="scripts/topLineGeolocation.js" type="text/javascript"></script>
		<script src="scripts/topLineConsultas.js" type="text/javascript"></script>
		<script src="kendo/cultures/kendo.culture.pt-BR.min.js" type="text/javascript"></script>
		<script type="text/javascript">   
			kendo.culture("pt-BR");
		</script>
	</head>

	<body>
		<!-- Home-Layout -->
		<div data-role="layout" data-id="home-layout" data-title="">
			<header data-role="header">
				<div data-role="navbar">
					<a data-align="right" href="#config-view" >
						<img id="imgConfig" src="styles/iconConfig.png"/>
					</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<div data-role="footer">
				<div data-role="tabstrip">
					<a href="#dentroFila-view" data-icon="dentroFila"></a>
					<a href="#foraFila-view" data-icon="foraFila"></a>
					<a href="#infoFechamento-view"  data-icon="fechamento"></a>
					<a href="#consulta-view" data-icon="desempenho"></a>
				</div>
			</div>
		</div>

		<!-- Toos-Layout -->
		<div data-role="layout" data-id="tools-layout" data-title="">
			<header data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
			</header>
			<footer data-role="footer">
				<div data-role="tabstrip">
					<a href="#dentroFila-view" data-icon="dentroFila"></a>
					<a href="#foraFila-view" data-icon="foraFila"></a>
					<a href="#infoFechamento-view"  data-icon="fechamento"></a>
					<a href="#consulta-view" data-icon="desempenho"></a>
				</div>
			</footer>
		</div>

		<!-- update-Layout -->
		<div data-role="layout" data-id="update-layout" data-title="" data-init="selBtn">
			<header data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
			</header>
		</div>

		<!-- Fila da Vez -->
		<div id="dentroFila-view" data-role="view" data-layout="home-layout" data-title="TOP LINE PRO" data-before-show="showVendedoresFila" data-model="viewModel">
			<ul data-bind="source: dsVendFila" data-role="listview" data-template="tdentroFila"></ul>
		</div>

		<!-- Fora da Fila da Vez -->
		<div id="foraFila-view" data-role="view" data-layout="home-layout" data-title="TOP LINE PRO" data-before-show="showVendedoresForaFila" data-model="viewModel">
			<ul data-bind="source: dsVendForaFila" data-role="listview" data-template="tforaFila"></ul>
		</div>

		<!-- Resultado Atendimento -->
		<div id="resultadoAtendimento-view" data-role="view" data-title="TOP LINE PRO" data-layout="update-layout" data-model="viewModel">
			<div data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
			</div>
			<div id="formAtendimento">
				<div id="atendimento_left">
					<img class="foto_grande" data-bind="attr: { src: vendedorSelecionado.ColFoto }"/>
				</div>
				<div id="atendimento_rigth">
					<div id="atendimento_nome">
						<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
						<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
					</div>
					<table id="atendimento_tb">
						<tr align="center">
							<td>
								<label>Vendeu&nbsp;&nbsp;&nbsp;&nbsp;</label>
								<input id="chkVendeu" data-role="switch" data-on-label="Sim" data-off-label="Não" data-change="switchChange" checked="Checked">
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<label>Qtde. de Peças</label>
							</td>
						</tr>
						<tr align="center">
							<td>
								<input id="RepQtde" name="RepQtde" type="number" placeholder="Qtde." maxlength="4" size="4" min="1" step="1" data-bind="qtde: atendimento.RepQtde" required validationmessage="Requerido" />
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<label>Valor da Venda</label>
							</td>
						</tr>
						<tr align="center">
							<td>
								<input id="RepValor" name="RepValor" type="number" placeholder="Valor" maxlength="10" size="10" min="0.01" step="0.01" data-bind="valor: atendimento.RepValor" data-bind="text: atendimento.RepValor" required validationmessage="Requerido" />
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="salvar" data-role="button" id="done" data-bind="events: {click: salvarAtendimento}">Salvar</a>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="cancelar" data-role="button" id="cancelAtendimento" data-bind="events: {click: cancelarAtendimento}">Cancelar</a>
							</td>
						</tr>
						<tr style="height:100%">
							<td>&nbsp;</td>
						</tr>
					</table>
				</div>
			</div>
			<script type="text/javascript">
				validatorAtendimento = $("#formAtendimento").kendoValidator({}).data("kendoValidator");
			</script>
		</div>

		<!--Saida da Fila da Vez-->
		<div id="sairdaFila_View" data-role="view" data-title="TOP LINE PRO" data-layout="update-layout" data-model="viewModel" data-before-show="showTiposMovtoSaida">
			<div id="formSaiFila">
				<div id="atendimento_fila">
					<div id="atendimento_nome">
						<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
						<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
					</div>
					<table id="atendimento_tb">
						<tr align="center">
							<td>
								<label>Motivo Saída</label>
							</td>
						</tr>
						<tr align="center">
							<td>
								<select id="MotivosSaida" name="MotivoSaida" data-bind="source: motivos, value: motivo" data-text-field="TmoDescricao" data-value-field="TmoId" placeholder="Selecione o motivo..." required validationmessage="Requerido"></select>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="salvar" data-role="button" data-bind="events: {click: salvarSaida}">Salvar</a>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="cancelar" data-role="button" data-bind="events: {click: cancelarSaida}">Cancelar</a>
							</td>
						</tr>
						<tr style="height:100%">
							<td>&nbsp;</td>
						</tr>
					</table>
				</div>
			</div>
		</div>

		<!--Entrada na Fila da Vez-->
		<div id="entrarNaFila_View" data-role="view" data-title="TOP LINE PRO" data-layout="update-layout" data-model="viewModel" data-before-show="showTiposMovtoEntrada">
			<div id="formEntrarFila">
				<div>
					<div id="atendimento_nome">
						<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
						<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
					</div>
					<table id="atendimento_tb">
						<tr align="center">
							<td>
								<label>Motivo Entrada</label>
							</td>
						</tr>
						<tr align="center">
							<td>
								<select id="MotivosEntrada" name="MotivoEntrada" data-bind="source: motivos, value: motivo" data-text-field="TmoDescricao" data-value-field="TmoId" placeholder="Selecione o motivo..." required validationmessage="Requerido"></select>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="salvar" data-role="button" data-bind="events: {click: salvarEntrada}">Salvar</a>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="cancelar" data-role="button" data-bind="events: {click: cancelarEntrada}">Cancelar</a>
							</td>
						</tr>
						<tr style="height:100%">
							<td>&nbsp;</td>
						</tr>
					</table>
				</div>
			</div>
		</div>

		<!--Motivos não venda View-->
		<div id="MotNaoVenda-view" data-role="view" data-model="viewModelNaoVenda" data-title="TOP LINE PRO" data-layout="home-layout" data-transition="slideup" data-before-show="showMotivosNaoVenda">
			<div id="formMotivosNaoVenda">
				<div>
					<img class="foto_grande" data-bind="attr: { src: vendedorSelecionado.ColFoto }"/>
				</div>
				<div id="atendimento_rigth">
					<div id="atendimento_nome">
						<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
						<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
					</div>
					<table id="atendimento_tb">
						<tr align="center">
							<td>
								<label>Motivo Não Venda</label>
							</td>
						</tr>
						<tr align="center">
							<td>
								<select id="Motivo" name="Motivo" data-bind="source: motivos, value: motivo" data-text-field="MnvDescricao" data-value-field="MnvId" placeholder="Selecione o motivo..." required validationmessage="Requerido"></select>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="salvar" data-role="button" data-bind="events: {click: salvarNaoVenda}">Salvar</a>
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
						</tr>
						<tr align="center">
							<td>
								<a id="cancelar" data-role="button" data-bind="events: {click: cancelarNaoVenda}">Cancelar</a>
							</td>
						</tr>
						<tr style="height:100%">
							<td>&nbsp;</td>
						</tr>
					</table>
				</div>
			</div>
			<div data-role="footer">
				<div data-role="tabstrip">
				</div>
			</div>
		</div>

		<!-- Consulta -->
		<div id="consulta-view" data-role="view" data-layout="home-layout" data-title="TOP LINE PRO">
			<div class="configTitulo">DESEMPENHO</div>
			<ul data-role="listview">
				<li>
					<a id="menu" href="views/ConsultasView.html">Loja</a>
				</li>
				<li>
					<a id="menu" href="#desenvView">Vendedor</a>
				</li>
			</ul>
		</div>

		<!-- Configuração -->
		<div id="config-view" data-role="view" data-layout="tools-layout" data-title="TOP LINE PRO">
			<div class="configTitulo">CONFIGURAÇÕES</div>
			<ul data-role="listview">
				<li>
					<a id="menu" href="#detalhesLoja-view">Cadastro de Loja</a>
				</li>
				<li>
					<a id="menu" href="#colaboradores-view">Cadastro de Colaboradores</a>
				</li>
			</ul>
		</div>

		<!--Em desenvolvimento-->
		<div data-role="view" id="desenvView" data-title="TOP LINE PRO"  data-layout="home-layout" >
			<header data-role="header">
				<div data-role="navbar">
					<a href="#:back" class="nav-button" data-align="left" data-role="backbutton">Voltar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<div>
				<h1>Em desenvolvimento!</h1>
			</div>
		</div>

		<!--Colaboradores View-->
		<div data-role="view" id="colaboradores-view" data-title="TOP LINE PRO" data-model="viewModel" data-layout="tools-layout" data-before-show="showColaboradores">
			<header data-role="header">
				<div data-role="navbar">
					<a href="#config-view" class="nav-button" data-align="left" data-role="backbutton">Voltar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right" data-bind="events: {click: adicionarColaborador}">Novo</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="lColaborador" data-bind="source: dsColaborador" data-role="listview" data-auto-bind="false" data-template="tColaborador"></ul>
		</div>

		<!--Detalhes Colaboradores view-->
		<div id="detalhesColaborador-view" data-role="view" data-model="viewModel" data-title="TOP LINE PRO" data-layout="tools-layout">
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" class="nav-button" data-align="left" data-role="backbutton" href="#colaboradores-view" >Voltar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right"  data-role="button" href="#editorColaborador-view" >Editar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="infoColaborador" data-role="listview" data-type="group">
				<li>
					<ul>
						<li>
							<img class="fila-art" data-bind="attr: { src: colaboradorSelecionado.ColFoto }"/>
							<div class="fila-div">
								<h1 class="col-nome" data-bind="text: colaboradorSelecionado.ColNome"></h1>
							</div>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						Dados
						<li>
							<label>CPF:</label>
							<span data-bind="cpf: colaboradorSelecionado.ColCpf"></span>
						</li>
						<li>
							<label>Nome:</label>
							<span data-bind="text: colaboradorSelecionado.ColNome"></span>
						</li>
						<li>
							<label>Sobrenome:</label>
							<span data-bind="text: colaboradorSelecionado.ColSobrenome"></span>
						</li>
						<li>
							<label>Sexo:</label>
							<span data-bind="sexoText: colaboradorSelecionado.ColSexo"></span>
						</li>
						<li>
							<label>Apelido:</label>
							<span data-bind="text: colaboradorSelecionado.ColApelido"></span>
						</li>
						<li>
							<label>Nascimento:</label>
							<span id="dtNascimentoView" data-bind="dateText: colaboradorSelecionado.ColDtnascimento"></span>
						</li>
						<li>
							<label>Email:</label>
							<span data-bind="text: colaboradorSelecionado.ColEmail"></span>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						<li>
							<label>
								Data Entrada:
							</label>
							<span id="dtEntradaView" data-bind="dateText: colaboradorSelecionado.ColDtentrada"></span>
						</li>

						<li>
							<label>Data Saída:</label>
							<span id="dtSaidaView"data-bind="dateText: colaboradorSelecionado.ColDtsaida"></span>
						</li>

						<li>
							<label>Afastado:</label>
							<span data-bind="afastText: colaboradorSelecionado.ColAfasttemp"></span>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						<li>
							<label>Cargo:</label>
							<span data-bind="text: colaboradorSelecionado.CarDescricao"></span>
						</li>

						<li>
							<label>Turno:</label>
							<span data-bind="text: colaboradorSelecionado.ColTurnoDesc"></span>
						</li>
					</ul>
				</li>
			</ul>
			<ul id="infoColaborador" data-bind="source: dsTelColaborador" data-role="listview" data-style="inset" data-template="tTelColaborador"></ul>
		</div>

		<!--Editor colaboradores view-->
		<div id="editorColaborador-view" data-role="view" data-show="editorColViewShow" data-init="editorColViewInit" data-model="viewModel" data-title="TOP LINE PRO" data-layout="update-layout">
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="backbutton" type="button" data-align="left">Cancelar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right">Salvar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="editorColaborador" data-role="listview" data-type="group">
				<li>
					<ul>
						<li>
							<img id="ImgPequena" class="fila-art" data-bind="attr: { src: colaboradorSelecionado.ColFoto }" />
							<ul id="btFoto" data-role="buttongroup" class="select-group">
								<li>
									<a id="capturePhotoEditButton">Tirar Foto</a>
								</li>
								<li>
									<a id="getPhotoFromLibraryButton">Galeria</a>
								</li>
							</ul>
						</li>
					</ul>
				</li>
				<li>
					Dados
					<ul>
						<li>
							<label>
								CPF:
								<input id="cpf" name="Cpf" type="text" placeholder="CPF" maxlength=11 size=11 data-bind="cpf: colaboradorSelecionado.ColCpf, value: colaboradorSelecionado.ColCpf" required validationmessage="Requerido"/>
							</label>
						</li>
						<li>
							<label>
								Nome:
								<input id="nome" name="Nome" type="text" placeholder="Nome" data-bind="value: colaboradorSelecionado.ColNome" required validationmessage="Requerido" />
							</label>
						</li>
						<li>
							<label>
								Sobrenome:
								<input id="sobrenome" name="SobreNome" type="text" placeholder="Sobrenome" data-bind="value: colaboradorSelecionado.ColSobrenome" required validationmessage="Requerido" />
							</label>
						</li>
						<li>
							<label>
								Sexo:
							</label>
							<select id="sexoId" name="Sexo" data-bind="source: sexos, value: colaboradorSelecionado.ColSexo" data-text-field="Desc" data-value-field="Id"></select>
						</li>
						<li>
							<label>
								Apelido:
								<input id="apelido" name="Apelido" type="text"  placeholder="Apelido" data-bind="value: colaboradorSelecionado.ColApelido" required validationmessage="Requerido" />
							</label>
						</li>
						<li>
							<label>
								Nascimento:
								<input id="dtNascimento" name="DataNascimento" type="date" placeholder="Data de nascimento" data-bind="dateValue: colaboradorSelecionado.ColDtnascimento" required validationmessage="Requerido"/>
							</label>
						</li>

						<li>
							<label>
								Email:
								<input id="email" name="Email" type="text" placeholder="e.g. meunome@exemplo.com.br" maxlength=60 size=60 data-bind="value: colaboradorSelecionado.ColEmail" />
							</label>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						<li>
							<label>
								Data Entrada:
								<input id="dtEntrada" name="DataEntrada" type="date" placeholder="Data de Entrada" data-bind="dateValue: colaboradorSelecionado.ColDtentrada" required validationmessage="Requerido"/>
							</label>
						</li>

						<li>
							<label>
								Data Saída:
								<input id="dtSaida" name="DataSaida" type="date"  data-bind="dateValue: colaboradorSelecionado.ColDtsaida"/>
							</label>
						</li>

						<li>
							<label>
								Afastamento:
								<input id="afastamento" name="Afastamento" data-role="switch" data-on-label="Sim" data-off-label="Não" checked="unchecked" data-bind="checked: colaboradorSelecionado.ColAfasttemp">
							</label>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						<li>
							<label>
								Cargo:
							</label>
							<select id="cargoId" name="Cargo" data-bind="source: cargos, value: colaboradorSelecionado.CarId" data-text-field="CarDescricao" data-value-field="CarId"></select>
						</li>
						<li>
							<label>
								Turno:
							</label>
							<select id="turnoId" name="Turno" data-bind="source: turnos, value: colaboradorSelecionado.ColHfuId" data-text-field="TufDescricao" data-value-field="TufId"></select>
						</li>
					</ul>
				</li>
			</ul>
			<ul data-role="listview" data-style="inset">
				<li>
					<a id="novoTelefone">Novo Telefone</a>
					<a data-role="detailbutton" data-style="rowinsert"></a>
				</li>
			</ul>
			<ul id="editorTelColaborador" data-bind="source: telefonesColaborador" data-role="listview" data-template="tAtuTelColaborador" data-style="inset"></ul>
		</div>

		<!--Detalhes Loja View-->
		<div id="detalhesLoja-view" data-role="view" data-model="viewModel.lojaSelecionada" data-title="TOP LINE PRO" data-layout="update-layout" data-before-show="showLojas">
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="backbutton" type="button" data-align="left"  data-role="backbutton" href="#config-view">Voltar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right"  data-role="backbutton" href="#EditorLoja-view" >Editar</a>
					<span data-role="view-title"></span>
				</div>
				<div id="divTitulo">LOJA</div>
			</header>
			<ul id="infoLoja" data-role="listview" data-type="group">
				<div>
					<ul>
						<div id="divSubTitulo">Dados</div>
						<li>
							<label>
								CNPJ
							</label><span data-bind="cnpj: LojCnpj"></span>
						</li>
						<li>
							<label>
								Razão Social
							</label> <span data-bind="text: LojRazaosocial"></span>
						</li>
						<li>
							<label>
								Nome Fantasia
							</label><span data-bind="text: LojNomefantasia"></span>
						</li>
						<li>
							<label>
								Telefone
							</label><span data-bind="telefoneText: LojTelefone"></span>
						</li>
						<li>
							<label>
								Loja de
							</label><span data-bind="ShopRua: LojShopping_rua"></span>
						</li>
						<li>
							<label>
								Data Cadastro
							</label><span id="dtCadastro" data-bind="dateText: LojDtcadastro"></span>
						</li>
					</ul>
				</div>
				<div>
					<ul>
						<div id="divSubTitulo">Endereço</div>
						<li>
							<label>
								Logradouro
							</label><span data-bind="text: LojLogradouro"></span>
						</li>
						<li>
							<label>
								Número
							</label><span data-bind="text: LojNumero"></span>
						</li>
						<li>
							<label>
								Complemento
							</label><span data-bind="text: LojComplemento"></span>
						</li>
						<li>
							<label>
								Bairro
							</label><span data-bind="text: LojBairro"></span>
						</li>
						<li>
							<label>
								Cidade
							</label><span data-bind="text: LojCidade"></span>
						</li>
						<li>
							<label>
								UF
							</label> <span data-bind="text: LojUf"></span>
						</li>
						<li>
							<label>
								CEP
							</label><span data-bind="cep: LojCep"></span>
						</li>
					</ul>
				</div>
				<div>
					<ul>
						<div id="divSubTitulo">Coordenadas</div>
						<li>
							<label>
								Latitude
							</label><span data-bind="text: LojLatitude"></span>
						</li>
						<li>
							<label>
								Longitude
							</label> <span data-bind="text: LojLongitude"></span>
						</li>
					</ul>
				</div>
				<div>
					<ul id="infoLoja" data-bind="source: dsEscala" data-role="listview" data-template="tEscalasLoja"></ul>
				</div>
			</ul>
		</div>

		<!--Editor Loja View-->
		<div id="EditorLoja-view" data-role="view" data-model="viewModel" data-title="TOP LINE PRO" data-layout="update-layout" data-show="editorLojaViewShow" data-init="editorLojaViewInit">
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="backbutton" type="button" data-align="left">Cancelar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right">Salvar</a>
					<span data-role="view-title"></span>
				</div>
				<div id="divTitulo">LOJA</div>
			</header>
			<ul id="editorLoja" data-role="listview" data-type="group" >
				<div>
					<ul>
						<div id="divSubTitulo">Dados</div>
						<li>
							<label>
								CNPJ
							</label>

							<input id="cnpj" name="Cnpj" type="text" placeholder="Cnpj" align="left" maxlength=14 size=14 data-bind="cnpj: lojaSelecionada.LojCnpj, value: lojaSelecionada.LojCnpj" required validationmessage="Requerido"/>

						</li>
						<li>
							<label>
								Código
							</label>
							<input id="LojCodigo" name="Código" type="text" maxlength=10 size=10 placeholder="Código" data-bind="value: lojaSelecionada.LojCodigo" required validationmessage="Requerido"/>
						</li>
						<li>
							<label>
								Razão Social
							</label>
							<input id="LojRazaosocial" name="RazaoSocial" placeholder="Razão Social" type="text" maxlength=60 size=60 data-bind="value: lojaSelecionada.LojRazaosocial" required validationmessage="Requerido" />
						</li>
						<li>
							<label>
								Nome Fantasia
							</label>
							<input id="LojNomefantasia" name="NomeFantasia" placeholder="Nome Fantasia" maxlength=50 size=50 type="text" data-bind="value: lojaSelecionada.LojNomefantasia" required validationmessage="Requerido" />
						</li>
						<li>
							<label>
								Telefone
							</label>
							<input id="LojTelefone" name="Telefone" type="text" maxlength=11 size=11 data-bind="telefoneValue: lojaSelecionada.LojTelefone" />
						</li>
						<li>
							<label>
								Loja de
							</label>
							<select id="LojShopping_rua" name="TipoLoja" data-bind="source: TLojas, value: lojaSelecionada.LojShopping_rua" data-text-field="Desc" data-value-field="Id"></select>
						</li>
					</ul>
				</div>
				<div>
					<ul>
						<div id="divSubTitulo">Endereço</div>
						<li>
							<label>
								Logradouro
							</label>
							<input id="LojLogradouro" name="Logradouro" type="text" maxlength=60 size=60 data-bind="value: lojaSelecionada.LojLogradouro" />
						</li>
						<li>
							<label>
								Número
							</label>
							<input id="LojNumero" name="Nº" type="text" maxlength=10 size=10 data-bind="value: lojaSelecionada.LojNumero" />
						</li>
						<li>
							<label>
								Complemento
							</label>
							<input id="LojComplemento" name="Complemento" maxlength=40 size=40 type="text" data-bind="value: lojaSelecionada.LojComplemento" />
						</li>
						<li>
							<label>
								Bairro
							</label>
							<input id="LojBairro" name="Bairro" type="text" maxlength=50 size=50 data-bind="value: lojaSelecionada.LojBairro" />
						</li>
						<li>
							<label>
								Cidade
							</label>
							<input id="LojCidade" name="Cidade" type="text" maxlength=50 size=50 data-bind="value: lojaSelecionada.LojCidade" />
						</li>
						<li>
							<label>
								UF
							</label>
							<select id="LojUf" name="Uf" data-bind="source: UFs, value: lojaSelecionada.LojUF" data-text-field="Uf" data-value-field="Uf"></select>
						</li>
						<li>
							<label>
								CEP
							</label>
							<input id="LojCep" name="Cep" type="text" maxlength=9 size=9 data-bind="cep: lojaSelecionada.LojCep, value: lojaSelecionada.LojCep" />
						</li>
					</ul>
				</div>

				<div>
					<ul>
						<div id="divSubTitulo">Coordenadas</div>
						<li>
							<div style="background-color:#f2f2f2" align=center>
								<button id="lerCoordenadas" data-role="button" data-icon="globe">Ler Coordenadas</button>
							</div>
						</li>
						<li>
							<label>
								Latitude
							</label>
							<input id="LojLatitude" name="Latitude" type="text" data-bind="value: lojaSelecionada.LojLatitude" disabled />
						</li>
						<li>
							<label>
								Longitude
							</label>
							<input id="LojLongitude" name="Longitude" type="text" data-bind="value: lojaSelecionada.LojLongitude" disabled />
						</li>
					</ul>
					<p id="results"></p>
				</div>
			</ul>

			<ul data-role="listview" data-style="inset">
				<li>
					<a id="novoTurno">Novo Turno</a>
					<a data-role="detailbutton" data-style="rowinsert"></a>
				</li>
			</ul>
			<ul id="editorTurnosLoja" data-bind="source: escalas" data-role="listview" data-template="tAtuEscalasLoja" data-style="inset"></ul>
		</div>

		<!--Validação dispositivo View-->
		<div data-role="view" id="validacaoDispositivo-view" data-title="TOP LINE PRO" data-model="viewModel" data-init="initValidacao" data-hide="viewHide" data-layout="updade-layout">
			<header data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
			</header>
			<div class="content">
				<div id="getForm">
					<h4>Dispositivo não cadastrado</h4>
					<label>Informe o CNPJ da sua Loja</label><br/>
					<input class="button" id="iptCnpjInicial"><br/>
					<button class="button" id="btnPesquisaCnpj">Buscar</button><br/>
				</div>
				<!--<div><h4>Clear Local Storage</h4><button class="button" id="clearLocalStorage">Clear</button></div>-->
			</div>
		</div>

		<!--Lista de Fechamentos do dia-->
		<div id="infoFechamento-view" data-role="view" data-title="Fechamento" data-model="viewModelFechamento" data-zoom="true"  data-before-show="showFechamentos" data-layout="update-layout" class="k-content absConf">
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="backbutton" type="button" data-align="left"  data-role="backbutton" href="#dentroFila-view">Voltar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right" data-bind="events: {click: adicionarFechamento}">Novo</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<!--<ul data-bind="source: dsFechamento" data-role="listview" data-template="tFechamentos" data-style="inset"></ul>-->
			<div class="chart-wrapper"  data-stretch="true" >
				<div id="chart"></div>
			</div>
		</div>

		<!--Editor Fechamento-->
		<div id="editorFechamento-view" data-role="view" data-model="viewModelFechamento" data-before-show="editorFecViewShow" data-init="editorFecViewInit" data-title="Fechamento" data-layout="update-layout" >
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="backbutton" type="button" data-align="left">Cancelar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right">Salvar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="editorFechamento" data-role="listview" data-style="inset" data-type="group">
				<li>
					<ul>
						<li id="nomeLoja">
							<span data-bind="text: lojaSelecionada.LojNomefantasia"></span>
						</li>
						<li id="dataFechamento">
							<span data-bind="date: dataAtual" data-dateformat="dddd, dd MMMM yyyy, hh:mm:ss"></span>
						</li>
					</ul>
					Parâmetros Fechamento
					<ul>
						<li>
							<label>
								Tipo:
							</label>
							<select id="tipoId" name="Tipo" data-bind="source: tiposFech, value: fechamentoSelecionado.TipoFechamento" data-text-field="Desc" data-value-field="Id"></select>
						</li>
						<li>
							<label>
								Turno:
							</label>
							<select id="turnoId" name="Turno" data-bind="source: turnos, value: fechamentoSelecionado.HfuId" data-text-field="TufDescricao" data-value-field="TufId"></select>
						</li>
					</ul>
					Dados Fechamento
					<ul>
						<li>
							<label>
								Qtde. de Vendas:
								<input id="qtdeVendas" name="QtdeVendas" type="number" placeholder="Quantidade de vendas" maxlength="4" size="4" data-bind="value: fechamentoSelecionado.FecQtInfVenda" required validationmessage="Requerido"/>
							</label>
						</li>
						<li>
							<label>
								Valor Total Vendas:
								<input id="vlTotalVendas" name="VlTotalVendas" type="number" placeholder="Valor Total Vendas" maxlength="10" size="10" min="0.01" step="0.01" data-bind="valor: fechamentoSelecionado.FecVlInfVenda" required validationmessage="Requerido" />
							</label>
						</li>
						<li>
							<label>
								Estoque Total:
								<input id="estoqueTotal" name="EstoqueTotal" type="number" placeholder="Estoque Total" maxlength="4" size="4" data-bind="valor: fechamentoSelecionado.FecEstoqueTotal"/>
							</label>
						</li>
						<li>
							<label>
								Preço Médio:
								<input id="precoMedio" name="PrecoMedio" type="number" placeholder="Preço Médio" maxlength="10" size="10" min="0.01" step="0.01" data-bind="valor: fechamentoSelecionado.FecPrecoMedio"/>
							</label>
						</li>
					</ul>
				</li>
			</ul>
		</div>

		<!--Template Colaborador-->
		<script type="text/x-kendo-template" id="tColaborador">
			<div id="#= uid #" data-role="touch" data-enable-swipe="0" data-tap="showDetalhesColaborador">
				<img class="fila-art" src="" data-bind="attr: { src: ColFoto}"/>
				<div class="fila-div">
					<h1 class="col-nome"> ${ColNome} # # ${ColSobrenome} </h1>
				</div>
			</div>
		</script>

		<!-- Templates -->
		<script type="text/x-kendo-template" id="tdentroFila">
			<div id="#= uid #" data-role="touch" data-enable-swipe="1" data-swipe="onSwipe" data-touchstart="onTouchstart" data-tap="atendimentoViewInit">
				<img class="fila-art"  src="" data-bind="attr: { src: ColFoto}"/>
				<div class="fila-div">
					<h1 class="fila-nome" data-bind="text: ColApelido"></h1>
					<h2 class="fila-turno" data-bind="text: ColTurno"></h2>
					<button id="btnSair" data-role="button" class="saida">Sair da Fila</button>
				</div>
			</div>
		</script>

		<script type="text/x-kendo-template" id="tforaFila">
			<div id="#= uid #" data-role="touch" data-enable-swipe="1" data-swipe="onSwipeFora" data-touchstart="onTouchstartFora">
				<img class="fila-art" src="" data-bind="attr: { src: ColFoto}"/>
				<div class="fila-div">
					<h1 class="fila-nome" data-bind="text: ColApelido"></h1>
					<h2 class="fila-turno" data-bind="text: ColTurno"></h2>
					<button id="btnEntrada" data-role="button" class="entrar">Entrar na Fila</button>
				</div>
			</div>
		</script>

		<script type="text/x-kendo-template" id="tEscalasLoja">
			<ul id="infoLoja" data-role="listview">
				<div id="divSubTitulo">#=TufDescricao#</div>
				<li>
					<label>
						Escala
					</label>
					<span data-bind="text: DsfDescricao"></span>
				</li>
				<li>
					<label>
						Período:
					</label>
					<span>#=EscHrInicial# às #=EscHrFinal#</span>
				</li>
			</ul>
		</script>

		<script type="text/x-kendo-template" id="tAtuEscalasLoja">
			<div>
				<ul id="editorTurnosLoja" data-role="listview" data-style="inset">
					<li>
						<label>
							Dias Funcionamento:
						</label>
						<select id="DsfId" name="DsfId" data-bind="source: diasFunc, value: DsfId" data-text-field="DsfDescricao" data-value-field="DsfId" required validationmessage="Requerido"></select>
					</li>
					<li>
						<label>
							Turnos Funcionamento:
						</label>
						<select id="TufId" name="TufId" data-bind="source: turnos, value: TufId" data-text-field="TufDescricao" data-value-field="TufId" required validationmessage="Requerido"></select>
					</li>

					<li>
						<label>
							Horário Inicial:
							<input id="#= uid #" name="EscHrInicial" type="time" data-bind="value: EscHrInicial" required validationmessage="Requerido"/>
						</label>
					</li>
					<li>
						<label>
							Horário Final:
							<input id="#= uid #" name="EscHrFinal" type="time" data-bind="value: EscHrFinal" required validationmessage="Requerido"/>
						</label>
					</li>
				</ul>
			</div>
		</script>

		<script type="text/x-kendo-template" id="tTelColaborador">
			<label> ${TteDescricao}: </label><span data-bind="telefoneText: TelNumero"/><span> </span><span data-bind="text: TceDescricao"/><br>
			<label> Operadora: </label><span data-bind="text: OpeDescricao"/>
		</script>

		<script type="text/x-kendo-template" id="tAtuTelColaborador">
			<div id="#= uid #" data-role="touch" data-enable-swipe="1" data-swipe="onSwipe" data-touchstart="onTouchstartTelefone">
				<ul id="editorTelColaborador" data-role="listview" data-style="inset">
					<li>
						<label>
							Tipo Telefone:
						</label>
						<select id="TteId" class="TteId" name="TteId" data-bind="source: tiposTels, value: TteId" data-text-field="DescricaoTipo" data-value-field="IdTipo" placeholder="Tipo de Telefone" required validationmessage="Requerido"></select>
					</li>
					<li>
						<label>
							Telefone:
							<input id="#= uid #" name="Telefone" type="text" placeholder="Telefone" data-bind="value: TelNumero" required validationmessage="Requerido"/>
						</label>
					</li>
					<li>
						<label>
							Operadora:
						</label>
						<select id="OpeId" name="OpeId" data-bind="source: tiposOper, value: OpeId" data-text-field="DescricaoTipo" data-value-field="IdTipo" placeholder="Operadora" required validationmessage="Requerido"></select>
					</li>
					<li>
						<label>
							Tipo Celular:
						</label>
						<select id="TceId" name="TceId" data-bind="source: tiposCel, value: TceId" data-text-field="DescricaoTipo" data-value-field="IdTipo" placeholder="Tipo Celular"></select>
					</li>
				</ul>
				<button id="btnEntrada" data-role="button" class="excluir" data-icon="delete"></button>
			</div>
		</script>

		<script type="text/javascript">
			
			var baseUrl = "http://www.revenuemachine.com.br/mobile/api";
			//var baseUrl = "http://localhost:50000/api";
			
			var botaoSelecionado = 0;
			
			app = new kendo.mobile.Application($(document.body), { 
				transition: "slide",
				loading: '<h1 class="loading-message">Carregando...</h1>'
			});
			
			$(document).ready(function () {
				app.showLoading();
				LoadingApp();
				/*
				var variable = "Lojaaa";			
				//Verifica se o dispositivo está cadastrado para a Loja.
				if (localStorage.getItem(variable) != undefined) {
				app.navigate("#dentroFila-view");
				}
				else {
				app.navigate("#validacaoDispositivo-view");
				localStorage.setItem(variable, "1");
				}
				*/
			});
			
			
			function switchChange(e) {
				if (!e.checked) {          
					app.navigate("#MotNaoVenda-view");
				}    
			} 
			
			function LoadingApp() {
				viewModel.dsTLoja.read();
				viewModel.dsUf.read();
				viewModel.dsCargos.read();
				viewModel.dsSexo.read();
			
				viewModel.dsTurnosFunc.read();
			
				viewModel.dsDiasFunc.read();
			
				viewModel.set("tipoCompl", 1);
				viewModel.dsTelCompl.read();
			
				//Carrega os dados de Loja
				viewModel.dsLoja.options.transport.read.url = baseUrl + "/RmLoja/1"; 
				viewModel.dsLoja.read(); 
			
				viewModelConsultas.dsData.read();
			
				app.hideLoading();
			
				app.navigate("#dentroFila-view");
				//app.navigate("#colaboradores-view");
				//app.navigate("#config-view");
			}  
	
		</script>
	</body>
</html>
