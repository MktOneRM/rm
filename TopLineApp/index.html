<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link href="kendo/styles/kendo.common.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.default.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.mobile.all.min.css" rel="stylesheet" />
		<link href="kendo/styles/kendo.indexedlistview.css" rel="stylesheet" />
		<link href="styles/main.css" rel="stylesheet" />
		<script src="cordova.js" type="text/javascript"></script>
		<script src="kendo/js/jquery.min.js" type="text/javascript"></script>
		<script src="kendo/js/kendo.all.min.js" type="text/javascript"></script>
		<script src="kendo/js/kendo.mobile.min.js" type="text/javascript"></script>
		<script src="scripts/topLine.js" type="text/javascript"></script>
	</head>
	<body>
		<!-- Home-Layout -->
		<div data-role="layout" data-id="home-layout" data-title="Top Line" data-init="selBtn">
			<header data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
				<ul data-role="buttongroup" class="select-group">
					<li>
						<a href="#dentroFila-view">Fila</a>
					</li>
					<li>
						<a href="#foraFila-view">Fora</a>
					</li>
					<li>
						<a href="#foraTurno-view">Turno</a>
					</li>
				</ul>
			</header>

			<div data-role="footer">
				<div data-role="tabstrip">
					<a href="#dentroFila-view" data-icon="action">Fila</a>
					<a href="#consulta-view" data-icon="search">Consulta</a>
					<a href="#config-view" data-icon="settings">Configuração</a>
					<a href="#about-view" data-icon="about">Sobre</a>
				</div>
			</div>
		</div>

		<!-- Fila da Vez -->
		<div id="dentroFila-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-model="viewModel" data-init="listViewInitFila">
			<ul id="listviewFila" data-style="inset" data-type="group"></ul>
		</div>

		<!-- Fora da Fila da Vez -->
		<div id="foraFila-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-show="showVendedoresForaFila" data-model="viewModel">
			<ul data-bind="source: dsVendForaFila" data-role="listview" data-auto-bind="false" data-template="tforaFila" data-style="inset"></ul>
		</div>

		<!-- Fora do Turno -->
		<div id="foraTurno-view" data-role="view" data-layout="home-layout" data-title="Top Line" data-show="showVendedoresForaTurno" data-model="viewModel">
			<ul data-bind="source: dsVendForaTurno" data-role="listview" data-auto-bind="false" data-template="tforaTurno" data-style="inset"></ul>
		</div>

		<!-- Resultado Atendimento -->
		<div id="resultadoAtendimento-view" data-role="view" data-title="Top Line" data-init="editorViewInit" data-layout="home-layout" data-model="viewModel">
			<div data-role="header">
				<div data-role="navbar">
					<a class="nav-button" data-align="left" data-role="backbutton" id="cancel">Cancelar</a>
					<span data-role="view-title"></span>
					<a class="nav-button" data-align="right" data-role="button" id="done">Gravar</a>
				</div>
			</div>
			<ul id="formAtendimento" data-role="listview" data-style="inset" data-type="group">
				<div class="mobile-fila-titulo">Atendimento</div>
				<li>
					<ul>
						<li style="height:65px">
							<img class="fila-art" data-bind="srcPath: vendedorSelecionado.ColFoto"/>
							<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
							<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
						</li>
					</ul>
				</li>
				<li>
					<ul>
						<li>
							<label>Vendeu</label>
							<input id="chkVendeu" data-role="switch" data-on-label="Sim" data-off-label="Não" data-change="switchChange" checked>
						</li>
					</ul>
				</li>
				<li>
					Dados da Venda
					<ul>
						<li>
							<label>Valor da Venda</label>
							<input type="number" id="RepValor" name="RepValor" placeholder="Valor" data-bind="value: atendimento.RepValor" pattern="\d+(\.\d{2})?" required validationmessage="Requerido" />
						</li>
						<li>
							<label>Qtde Total de Peças</label>
							<input type="number" id="RepQtde" name="RepQtde" placeholder="Qtde." data-bind="value: atendimento.RepQtde" pattern="[0-9]*" required validationmessage="Requerido" />
						</li>
					</ul>
				</li>
			</ul>
		</div>
		<div id="sairdaFila_View" data-role="view" data-show="showTiposMovtoSaida" data-title="Top Line" data-init="editorViewInit" data-layout="home-layout" data-model="viewModel">
			<header data-role="header">
				<div data-role="navbar">
					<a href="#dentroFila-view" class="nav-button" data-align="left" data-role="backbutton">Voltar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="form" data-role="listview" data-style="inset" data-type="group">
				<div class="mobile-fila-titulo">Saída da Fila</div>
				<li>
					<ul>
						<li style="height:65px">
							<img class="fila-art" data-bind="srcPath: vendedorSelecionado.ColFoto"/>
							<h1 class="fila-nome" data-bind="text: vendedorSelecionado.ColNome"></h1>
							<h2 class="fila-turno"data-bind="text: vendedorSelecionado.ColTurno"></h2>
						</li>
					</ul>
				</li>
				<li>
					Tipos de Saída
					<ul id="lstMotivosSaida" data-bind="source: dsTiposMovto" data-auto-bind="false" data-template="tpTiposMovto"></ul>
				</li>
			</ul>
		</div>

		<!-- Toos-Layout -->
		<div data-role="layout" data-id="tools-layout" data-title="Top Line">
			<header data-role="header">
				<div data-role="navbar">
					<span data-role="view-title"></span>
				</div>
			</header>
			<div data-role="footer">
				<div data-role="tabstrip">
					<a href="#dentroFila-view" data-icon="action">Fila</a>
					<a href="#consulta-view" data-icon="search">Consulta</a>
					<a href="#config-view" data-icon="settings">Configuração</a>
					<a href="#about-view" data-icon="about">Sobre</a>
				</div>
			</div>
		</div>

		<!-- Consulta -->
		<div id="consulta-view" data-role="view" data-layout="tools-layout" data-title="Top Line">
			<ul data-role="listview" data-style="inset" data-type="group">
				<li>
					Configuração
					<ul>
						<li>
							<a>Loja</a>
						</li>
						<li>
							<a>Vendedor</a>
						</li>
					</ul>

				</li>
			</ul>
		</div>

		<!-- Configuração -->
		<div id="config-view" data-role="view" data-layout="tools-layout" data-title="Top Line" data-init="selBtn">
			<ul data-role="listview" data-style="inset" data-type="group">
				<li>
					Configuração
					<ul>
						<li>
							<a href="\\#">Cadastro de Loja</a>
						</li>
						<li>
							<a href="#colaboradores-view">Cadastro de Colaboradores</a>
						</li>
						<li>
							<a href="\\#">Escala de Trabalho</a>
						</li>
						<li>
							<a href="\\#">Horário de Funcionamento</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>

		<!-- Colaboradores -->
		<div data-role="view" id="colaboradores-view" data-title="Colaboradores" data-show="showColaboradores" data-model="viewModel" data-layout="home-layout" >
			<header data-role="header">
				<div data-role="navbar">
					<a href="#config-view" class="nav-button" data-align="left" data-role="backbutton">Voltar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right" data-icon="add" data-bind="events: {click: adicionarColaborador}"></a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="lColaborador" data-bind="source: dsColaborador" data-role="listview" data-auto-bind="false" data-template="tColaborador"></ul>
			<ul id="actionsColaboradores" data-role="actionsheet" data-cancel="Cancelar">
				<li class="km-actionsheet-title">Selecione operação:</li>
				<li>
					<a href="#" data-action="viewModel.detalhesColaborador">Detalhes</a>
				</li>
				<li>
					<a href="#" data-action="viewModel.editarColaborador">Editar</a>
				</li>
			</ul>

		</div>

		<!--detalhes Colaboradores view-->
		<div id="detalhesColaborador-view" data-role="view" data-model="viewModel.colaboradorSelecionado" data-title="Colaboradores" data-layout="home-layout"  >
			<header data-role="header">
				<div data-role="navbar">
					<a href="#colaboradores-view" class="nav-button" data-align="left" data-role="backbutton">Voltar</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="info" data-role="listview" data-style="inset">
				<li>
					CPF: <span data-bind="text: ColCpf"></span>
				</li>
				<li>
					Nome: <span data-bind="text: ColNome"></span>
				</li>
				<li>
					Sobrenome: <span data-bind="text: ColSobrenome"></span>
				</li>

				<li>
					Data nascimento: <span data-bind="text: ColDtnascimento"></span>
				</li>
				<li>
					Email: <span data-bind="text: ColEmail"></span>
				</li>
			</ul>
		</div>

		<!--editor colaboradores view-->
		<div id="editorColaborador-view" data-role="view" data-init="editorViewInitCol" data-model="viewModel" data-title="Colaboradores" data-layout="home-layout" >
			<header data-role="header">
				<div data-role="navbar">
					<a id="btnCancel" data-role="button" type="button" data-align="left"  data-role="backbutton" data-bind="events: {click: cancelarColaborador}">Cancelar</a>
					<a id="btnCreate" data-role="button" type="button" data-align="right" data-bind="events: {click: salvarColaborador}">Ok</a>
					<span data-role="view-title"></span>
				</div>
			</header>
			<ul id="formColaborador" data-role="listview" data-style="inset">

				<ul data-role="buttongroup" class="select-group">

					<li>
						<a id="capturePhotoEditButton" data-icon >Tirar Foto</a>
					</li>
					<li>
						<a id="getPhotoFromLibraryButton">Galeria</a>
					</li>

				</ul>

				<li style="height:65px">
					<img id="smallImage" class="fila-art" data-bind="srcPath: colaboradorSelecionado.ColFoto"/>
					<h1 data-bind="text: colaboradorSelecionado.ColNome"></h1>
				</li>

				<li>
					<label>
						CPF:
						<input id="cpf" name="Cpf" type="text" required="required" data-bind="value: colaboradorSelecionado.ColCpf" />
					</label>
				</li>
				<li>
					<label>
						Apelido:
						<input id="nome" name="Nome" type="text" required="required" data-bind="value: colaboradorSelecionado.ColApelido" />
					</label>
				</li>
				<li>
					<label>
						Nome:
						<input id="nome" name="Nome" type="text" required="required" data-bind="value: colaboradorSelecionado.ColNome" />
					</label>
				</li>
				<li>
					<label>
						Sobrenome:
						<input id="sobrenome" name="SobreNome" type="text" required="required" data-bind="value: colaboradorSelecionado.ColSobrenome"/>
					</label>
				</li>
				<li>
					<label>
						Data Nascimento:
						<input id="dtNascimento" name="DataNascimento" type="text" required="required" data-bind="value: colaboradorSelecionado.ColDtnascimento"/>
					</label>
				</li>

				<li>
					<label>
						Email:
						<input id="email" name="Email" type="text" data-bind="value: colaboradorSelecionado.ColEmail"/>
					</label>
				</li>

				<li>
					<label>
						Data Entrada:
						<input id="dtEntrada" name="DataEntrada" type="text" required="required" data-bind="value: colaboradorSelecionado.ColDtentrada"/>
					</label>
				</li>

				<li>
					<label>
						Data Saída:
						<input id="dtSaida" name="DataSaida" type="date"  data-bind="value: colaboradorSelecionado.ColDtsaida"/>
					</label>
				</li>

				<li>
					<label>
						Afastamento:
						<input id="afastamento" name="Afastamento" type="checkbox" data-bind="value: colaboradorSelecionado.ColDtsaida" />
					</label>
				</li>

				<li>
					<label>
						Loja Id:
						<input id="lojaId" name="LojaId" type="text" required="required" data-bind="value: colaboradorSelecionado.LojId"/>
					</label>
				</li>

				<li>
					<label>
						Cargo Id:
						<input id="cargoId" name="Cargo" type="text" required="required" data-bind="value: colaboradorSelecionado.CarId"/>
					</label>
				</li>

				<li>
					<label>
						Turno Id:
						<input id="turnoId" name="Turno" type="text" required="required" data-bind="value: colaboradorSelecionado.ColHfuId"/>
					</label>
				</li>
			</ul>

		</div>

		<script type="text/x-kendo-template" id="tColaborador">
			<a data-rel="actionsheet" href="\\#actionsColaboradores" data-actionsheet-context="#= ColId #">
				<h3 >${ColNome} # # ${ColSobrenome}</h3>
			</a>
		</script>

		<!-- Templates -->
		<script type="text/x-kendo-template" id="tdentroFila">
			<a>
				<img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
				<h1 class="fila-nome">${ColApelido}</h1>
				<h2 class="fila-turno">${ColTurno}</h2>
			</a>
			<a id="btnSair" href="\\#" data-role="button" class="saida">Sair</a>
		</script>

		<script type="text/x-kendo-template" id="tforaFila">
			<a class="details-link" data-role="listview-link">
				<img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
				<h1 class="fila-nome">${ColApelido}</h1>
				<h2 class="fila-turno">${ColTurno}</h2>
			</a>
		</script>

		<script type="text/x-kendo-template" id="tforaTurno">
			<a class="details-link" data-role="listview-link">
				<img class="fila-art" src="data:image/png;base64,${ColFoto}"/>
				<h1 class="fila-nome">${ColApelido}</h1>
				<h2 class="fila-turno">${ColTurno}</h2>
			</a>
		</script>

		<script type="text/x-kendo-template" id="tpTiposMovto">
			<a class="details-link" data-role="listview-link">
				${TmoDescricao}
			</a>
		</script>

		<script>
			app = new kendo.mobile.Application($(document.body), { 
				transition: "slide",
				loading: '<h1 class="loading-message">Carregando...</h1>'
			});
			
			function showSaidaFilaView(e) {       
				var vendedor = viewModel.dsVendFila.get(e.context);
				viewModel.set("vendedorSelecionado", vendedor); 				
				app.navigate("#sairdaFila_View");
			};
			function selBtn(e) {
				var btnGrp = $(e.sender.element).find(".select-group").data("kendoMobileButtonGroup");
				if (btnGrp) {
					btnGrp.select(0);
				}
			}
        
			function switchChange(e) {
				if (e.checked) {
					alert("verdadeiro");
				}
				else {
					alert("Falso");
				}    
			}    
			
	
		</script>
	</body>
</html>
	